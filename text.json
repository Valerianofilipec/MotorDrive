{
	"brand":"Toyota",
	"model":"Yaris",
	"plate_number": "LD-0s07",
	"geolocation": {
        "type": "Point",
        "coordinates": [41.1663061,-8.6490692]
    }
},
{
	"brand":"Lexus",
	"model":"XXX",
	"plate_number": "LSD-69",
	"geolocation": {
        "type": "Point",
        "coordinates": [41.1663061,-8.6490692]
    }
},
{
	"brand":"BMW",
	"model":"X5",
	"plate_number": "LS-420",
	"geolocation": {
        "type": "Point",
        "coordinates": [41.1663061,-8.6490692]
    }
},
{
	"brand":"Toyota",
	"model":"Yaris",
	"plate_number": "LSD-420",
	"geolocation": {
    "type": "Point",
    "coordinates": [6,9]
}
}

//Drivers w/ cars
{
	"name": "X59",
	"email": "X59@emaisl.com",
	"home_location": "Rua 5X",
	"password": "X9-050s7",
	"cars":[
		{
		"brand":"BMW",
		"model":"X5",
		"plate_number": "Test",
		"geolocation": {
					"type": "Point",
					"coordinates": [41.1663061,-8.6490692]
    }
},
		{
		"brand":"BMW",
		"model":"X5",
		"plate_number": "Test2",
		"geolocation": {
					"type": "Point",
					"coordinates": [41.1663061,-8.6490692]
    }
}
	]
}

SET @user_location = ST_GeomFromText( 'POINT(0 0)' );
SELECT 
    *,
    ST_AsText(`position`) AS `pos_wkt`,
    ST_Distance(`position`, @user_location) AS `distance`
FROM
    `locations_flat`
WHERE ST_Distance(`position`, @user_location) <= 100;

//Or

SET @user_location = ST_GeomFromText( 'POINT(30 50)', 4326 );
SELECT 
    *,
    ST_AsText(`position`) AS `pos_wkt`,
    ST_Distance_Sphere(`position`, @user_location) AS `distance`
FROM
    `locations_earth`
WHERE ST_Distance_Sphere(`position`, @user_location) <= (1000*1000);
